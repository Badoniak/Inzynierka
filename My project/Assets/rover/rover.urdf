<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from rover.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="legendary_rover">
  <!-- ROS2 Control Block -->
  <ros2_control name="legendary_rover_ros2_control" type="system">
    <hardware>
      <plugin>ign_ros2_control/IgnitionSystem</plugin>
    </hardware>
    <joint name="BL_wheel_joint">
      <command_interface name="velocity">
        <param name="min">-1.0</param>
        <param name="max">1.0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="FL_wheel_joint">
      <command_interface name="velocity">
        <param name="min">-1.0</param>
        <param name="max">1.0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="FR_wheel_joint">
      <command_interface name="velocity">
        <param name="min">-1.0</param>
        <param name="max">1.0</param>
        <param name="multiplier">-1.0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="BR_wheel_joint">
      <command_interface name="velocity">
        <param name="min">-1.0</param>
        <param name="max">1.0</param>
        <param name="multiplier">-1.0</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
  </ros2_control>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="front_wheel">
      <ros>
        <namespace>/diff_drive_controller</namespace>
      </ros>
      <!-- Wheel Information -->
      <left_joint>FL_wheel_joint</left_joint>
      <right_joint>FR_wheel_joint</right_joint>
      <wheel_separation>1.17</wheel_separation>
      <wheel_diameter>0.26</wheel_diameter>
      <!-- Limit -->
      <max_wheel_torque>200</max_wheel_torque>
      <max_wheel_acceleration>10.0</max_wheel_acceleration>
      <!-- Output -->
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_link</robot_base_frame>
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <!-- <odom_topic>disabled</odom_topic> -->
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="rear_wheel">
      <ros>
        <!-- publish to /gps/data -->
        <namespace>/diff_drive_controller</namespace>
      </ros>
      <!-- Wheel Information -->
      <left_joint>BL_wheel_joint</left_joint>
      <right_joint>BR_wheel_joint</right_joint>
      <wheel_separation>1.17</wheel_separation>
      <wheel_diameter>0.26</wheel_diameter>
      <!-- Limit -->
      <max_wheel_torque>200</max_wheel_torque>
      <max_wheel_acceleration>10.0</max_wheel_acceleration>
      <!-- Output -->
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_link</robot_base_frame>
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <!-- <odom_topic>disabled</odom_topic> -->
    </plugin>
  </gazebo>
  <gazebo>
    <plugin filename="ign_ros2_control-system" name="ign_ros2_control::IgnitionROS2ControlPlugin">
      <parameters>/home/dawid/ros2_unity_ws/install/controller/share/controller/config/controllers.yaml</parameters>
    </plugin>
  </gazebo>
  <!-- ******************************* Links ******************************* -->
  <link name="base_link">
  </link>
  <joint name="base_footprint_joint" type="fixed">
    <parent link="base_link"/>
    <child link="base_footprint"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="base_footprint">
  </link>
  <joint name="chassis_joint" type="fixed">
    <parent link="base_link"/>
    <child link="chassis"/>
    <origin rpy="1.5708 0 1.5708" xyz="0 0 0.37"/>
  </joint>
  <link name="chassis">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00322150223165306 -0.0317835441688463 0.0392262662545424"/>
      <mass value="13.9113253461594"/>
      <inertia ixx="0.137500217365985" ixy="-1.50640906549854E-05" ixz="-4.20418177659327E-05" iyy="0.158013840900767" iyz="1.36293755133581E-06" izz="0.0668521247692141"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/base_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/base_link.STL"/>
      </geometry>
    </collision>
  </link>
  <link name="FL_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0657932903439138 0.00142869200681425 9.9374601122415E-06"/>
      <mass value="1.6444086136415"/>
      <inertia ixx="0.0139876753457463" ixy="-0.000132035977836167" ixz="3.15709065074939E-08" iyy="0.00769928738544249" iyz="7.8978424094368E-07" izz="0.0076927565336923"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/FL_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/FL_wheel.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="FL_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.578691303668632 -0.237965989839832 0.501750000756599"/>
    <parent link="chassis"/>
    <child link="FL_wheel"/>
    <axis xyz="0.999779852268619 -0.0209820637149624 0"/>
  </joint>
  <link name="BL_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0657953215031118 0.00133190879616998 -1.102290957955E-06"/>
      <mass value="1.64440861363231"/>
      <inertia ixx="0.0139876757533367" ixy="-0.000132024644816703" ixz="-1.42789492436747E-08" iyy="0.00769944516583351" iyz="6.94182413139629E-08" izz="0.00769259835014326"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/BL_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/BL_wheel.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="BL_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.578691303668647 -0.237965989839099 -0.401750000000183"/>
    <parent link="chassis"/>
    <child link="BL_wheel"/>
    <axis xyz="0.999779852268619 -0.0209820637149624 0"/>
  </joint>
  <link name="FR_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0657913230041458 0.0013308416445233 8.05670440151562E-06"/>
      <mass value="1.64440861363838"/>
      <inertia ixx="0.0139876756245162" ixy="0.000132029029633682" ixz="1.32421956480498E-09" iyy="0.00769931570657865" iyz="-6.97714576728623E-07" izz="0.00769272793356072"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/FR_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/FR_wheel.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="FR_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.578691303668549 -0.237965989839575 0.50175"/>
    <parent link="chassis"/>
    <child link="FR_wheel"/>
    <axis xyz="0.999779852268619 -0.0209820637149687 0"/>
  </joint>
  <link name="BR_wheel">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0657913365617738 0.00133019561822817 -1.39445307800745E-07"/>
      <mass value="1.64440861363467"/>
      <inertia ixx="0.013987675587488" ixy="0.00013202862171795" ixz="-1.22366605858997E-08" iyy="0.00769943862075944" iyz="-5.04460531278865E-08" izz="0.00769260505729232"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/BR_wheel.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.752941176470588 0.752941176470588 0.752941176470588 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://description/meshes/BR_wheel.STL"/>
      </geometry>
    </collision>
  </link>
  <joint name="BR_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.578691303668548 -0.237965989839575 -0.401750000756777"/>
    <parent link="chassis"/>
    <child link="BR_wheel"/>
    <axis xyz="0.999779852268619 -0.0209820637149688 0"/>
  </joint>
</robot>
